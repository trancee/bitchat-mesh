# Testing

This document summarizes the test commands and the current test suites for each platform, plus a coverage status note.

## Android

### Command

```bash
cd android
./gradlew :bitchat-mesh:test
./gradlew :bitchat-mesh:jacocoTestReport
```

### Test suites

- JUnit Jupiter unit tests under `android/bitchat-mesh/src/test/kotlin`
  - `com.bitchat.mesh.MeshListenerTests`
  - `com.bitchat.mesh.MeshManagerTests`

### Coverage

- Coverage is generated by the `jacocoTestReport` task.
- Report excludes the upstream `com.bitchat.android.noise.southernstorm` package.
- Last updated: 2026-02-13
- Jacoco totals:
  - Instruction: 16072/44570 (36.06%)
  - Line: 2453/6706 (36.58%)
  - Branch: 1242/4354 (28.53%)
  - Complexity: 797/3459 (23.04%)
  - Method: 446/1237 (36.05%)
  - Class: 97/230 (42.17%)

## iOS

### Command

```bash
cd ios
swift test
swift test --enable-code-coverage
xcrun llvm-cov report \
  .build/debug/BitchatMeshPackageTests.xctest/Contents/MacOS/BitchatMeshPackageTests \
  -instr-profile .build/debug/codecov/default.profdata
```

### Test suites

- Swift Package tests under `ios/Tests/BitchatMeshTests`
  - `BinaryEncodingUtilsTests`
  - `BinaryProtocolTests`
  - `BitchatFilePacketTests`
  - `MeshListenerTests`
  - `MeshManagerTests`
  - `TLVPacketTests`

### Coverage

- Coverage is reported via `xcrun llvm-cov report`.
- Last updated: 2026-02-12
- llvm-cov totals:
  - Regions: 28.10%
  - Functions: 41.27%
  - Lines: 32.20%
